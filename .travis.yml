language: java
jdk:
- openjdk8
branches:
  except:
  - travis
notifications:
  irc:
    channels:
    - chat.freenode.net#craftercms
    use_notice: true
    skip_join: true
  slack: craftersoftware:7YiSb41ZG5rfMgiAY7Qgprc7
env:
  global:
  - secure: sQ0viMW62nk/2wPM8CUPk/uI07kjXoHpn6/Pn41Db4KOGZ6Fya5AmthBMYnmlJ9UrvSItxcWMyBDoBRgs/oQQu8oBtFrriiV3CHtJKJ8KE9ZW/1Aam/ZGe36qSIHcSLx3YE5XC7IZ1MfVhK7s512RbuBKchOWB4wc6SJysQ2Bc4=
  - secure: u+2NuNtiOUmarD8aPFpZiK5vbglW/odwemxh1eN+rOH0eBm6NmKur7vf4opZAipxQtPjbLf7xhhUqZBzhfLjHkn4s4h0SpuRuqk5x0pL6uECTeEZkCiBOff+IY/ZvR5l0VXMTInRE0bGrG/1scH0vAfdkJnacMcGqs9qnt+wOJs=
before_install: git clone -b travis `git config --get remote.origin.url` target/travis
script:
- if [[ "$TRAVIS_PULL_REQUEST" == "false" ]]; then bash -c  "mvn deploy --settings
  target/travis/settings.xml";  fi
- if [[ "$TRAVIS_PULL_REQUEST" != "false" ]]; then bash -c "mvn clean install" ;fi
